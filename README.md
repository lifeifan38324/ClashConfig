# 规则文件的总结

## 1. 订阅转换的方法(推荐) 

### 1.1 基本介绍

这种方法采用前后端分离的模式，将订阅链接中的节点全部提取出来，重新分组并重新书写分流规则。

[前端页面](https://acl4ssr-sub.github.io/)：负责拼接URL。拼接的内容包括①所有订阅链接，②配置文件的地址，③后端解析器的地址，以及④一些特殊需求。

后端地址：负责解析拼接的URL，生成代理工具的配置文件。

### 1.2 快速使用

1. 模式设置：选择基础模式。
2. 订阅链接：将订阅连接粘贴到文本框中，不同的订阅连接用`换行`或者`|`分割。
3. 客户端：选择自己的客户端，如：CFW使用Clash。
4. 远程配置：默认即可。
5. 后端地址：建议选择`subconverter作者提供-稳定`。
6. 点击`生成订阅链接`，并复制。
7. 将订阅链接粘贴到CFW的订阅栏。

### 1.3 进阶模式

进阶模式中增加了一些特殊需求。包括：

- 远程配置：这是订阅转换最吸引人的点，可以灵活组合订阅地址。
  想要省时的话，可以下下拉框中选择需要的功能(包括：去广告，奈飞分组等)。选择规则文件。
  作者建议参考已有的配置文件，撰写自己专属的配置，实现个性化的定制。可以参考：[ACL4SSR的配置](https://github.com/ACL4SSR/ACL4SSR/tree/master/Clash/config)，[subconverter大神的使用说明](https://github.com/tindy2013/subconverter/blob/master/README-cn.md#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6)。
- 后端地址：建议使用 **\[subconverter作者提供-稳定\]**
- 排除节点：可以排除一些高倍率的节点。目前建议（重置|剩余|套餐|返利|临时|刷新|一元）
- 输出文件名：最终下载的文件名称。
- 更多选项：默认即可，需要的可自行探索。
- 定制功能：默认即可，需要的可自行探索。

### 1.4 安全防盗

#### 1.4.1 前端防盗

一般前端不存在节点盗取行为，因为这种方法很容易被发现。

建议在上方推荐的前端地址进行订阅转换，安全可靠。

#### 1.4.2 后端防盗

上述后端地址也是安全可靠的。

1. 如果不信任上述后端地址，可以使用==本地后端地址==进行订阅转换。使用方法参考[不良林的视频]()

2. [利用worker隐藏订阅节点的密码](https://github.com/bulianglin/psub/tree/main)
   原理：拼接的URL先转发到自建的中转地址，中转地址将订阅节点的密码隐藏后，再发往后端地址进行解析。之后中转地址将解析完成的订阅节点的密码恢复，返回给我们。

### 1.5 作者自用

- 自用worker地址：[https://lff.ffli7350.workers.dev/](https://lff.ffli7350.workers.dev/)

- 自用订阅转换的规则模板：[cfw_convert_config.ini](https://raw.githubusercontent.com/lifeifan38324/ClashConfig/main/cfw_convert_config.ini)



---
## 2. 引用外部规则集和代理集的方法 

[参考Loyalsoldier的规则文档](https://github.com/Loyalsoldier/clash-rules#%E7%AE%80%E4%BB%8B) 

不建议使用这种方法，不仅撰写繁琐，而且定制性很差，较难实现个性化的需求定制。

